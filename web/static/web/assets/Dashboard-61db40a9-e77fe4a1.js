import{P as j,L as t,D as l,ax as k,I as n,ac as v,a7 as b,a as u,ad as w,ay as y,b as F}from"./index-0d19177e.js";import{p as e,D as s}from"./BaseContext-b2603304-d1129fb6.js";import{d as L}from"./globalStyle-ed485bee-3719433e.js";import{o as I}from"./StylishText-56caa9d1-838dbefd.js";function A({id:r,data:a,isLoading:i}){const{classes:d}=L();return t.jsxs(w,{withBorder:!0,p:"xs",pos:"relative",children:[t.jsx(y,{visible:i,overlayBlur:2}),t.jsx(l,{position:"apart",children:t.jsx(n,{size:"xs",color:"dimmed",className:d.dashboardItemTitle,children:a.title})}),t.jsx(l,{align:"flex-end",spacing:"xs",mt:25,children:t.jsx(n,{className:d.dashboardItemValue,children:a.value})})]},r)}function q({id:r,error:a}){const i=(a==null?void 0:a.message)||(a==null?void 0:a.toString())||t.jsx(s,{id:"29VNqC"});return t.jsxs(t.Fragment,{children:[t.jsx("p",{children:t.jsx(s,{id:"nlJhkA"})}),i]})}function D({id:r,text:a,url:i,params:d,autoupdate:p=!0}){function m(){return F.get(`${i}/?search=&offset=0&limit=25`,{params:d}).then(_=>_.data)}const{isLoading:x,error:c,data:o,isFetching:f}=b({queryKey:[`dash_${r}`],queryFn:m,refetchOnWindowFocus:p}),[g,h]=u.useState({title:e._({id:"MHrjPM"}),value:"000"});return u.useEffect(()=>{o&&h({title:a,value:o.count})},[o]),c!=null?t.jsx(q,{id:r,error:c}):t.jsx("div",{children:t.jsx(A,{id:r,data:g,isLoading:x||f})},r)}const G=[{id:"starred-parts",text:e._({id:"5QTyaY"}),icon:"fa-bell",url:"part",params:{starred:!0}},{id:"starred-categories",text:e._({id:"GuGbPw"}),icon:"fa-bell",url:"part/category",params:{starred:!0}},{id:"latest-parts",text:e._({id:"LcKNFQ"}),icon:"fa-newspaper",url:"part",params:{ordering:"-creation_date",limit:10}},{id:"bom-validation",text:e._({id:"eHUZsJ"}),icon:"fa-times-circle",url:"part",params:{bom_valid:!1}},{id:"recently-updated-stock",text:e._({id:"ZopSbj"}),icon:"fa-clock",url:"stock",params:{part_detail:!0,ordering:"-updated",limit:10}},{id:"low-stock",text:e._({id:"UgdO7s"}),icon:"fa-flag",url:"part",params:{low_stock:!0}},{id:"depleted-stock",text:e._({id:"Onj2Pw"}),icon:"fa-times",url:"part",params:{depleted_stock:!0}},{id:"stock-to-build",text:e._({id:"Iq/utX"}),icon:"fa-bullhorn",url:"part",params:{stock_to_build:!0}},{id:"expired-stock",text:e._({id:"ZOsmSm"}),icon:"fa-calendar-times",url:"stock",params:{expired:!0}},{id:"stale-stock",text:e._({id:"kc9cAF"}),icon:"fa-stopwatch",url:"stock",params:{stale:!0,expired:!0}},{id:"build-pending",text:e._({id:"zLhIiS"}),icon:"fa-cogs",url:"build",params:{active:!0}},{id:"build-overdue",text:e._({id:"UBWkDy"}),icon:"fa-calendar-times",url:"build",params:{overdue:!0}},{id:"po-outstanding",text:e._({id:"WsHr9R"}),icon:"fa-sign-in-alt",url:"order/po",params:{supplier_detail:!0,outstanding:!0}},{id:"po-overdue",text:e._({id:"fCNzWA"}),icon:"fa-calendar-times",url:"order/po",params:{supplier_detail:!0,overdue:!0}},{id:"so-outstanding",text:e._({id:"gyZThB"}),icon:"fa-sign-out-alt",url:"order/so",params:{customer_detail:!0,outstanding:!0}},{id:"so-overdue",text:e._({id:"Gu8K8T"}),icon:"fa-calendar-times",url:"order/so",params:{customer_detail:!0,overdue:!0}},{id:"news",text:e._({id:"XzTq3p"}),icon:"fa-newspaper",url:"news",params:{}}];function Z(){const[r,a]=j(i=>[i.autoupdate,i.toggleAutoupdate]);return t.jsxs(t.Fragment,{children:[t.jsxs(l,{children:[t.jsx(I,{children:t.jsx(s,{id:"7p5kLi"})}),t.jsx(k,{checked:r,onChange:()=>a(),children:t.jsx(s,{id:"edpMcF"})})]}),t.jsx(n,{children:t.jsx(s,{id:"0s/I4H"})}),t.jsx(v,{cols:4,pt:"md",children:G.map(i=>t.jsx(D,{...i,autoupdate:r},i.id))})]})}export{Z as default};
