import{v as ve,a as b}from"./index-0d19177e.js";var de=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var c,o,l;if(Array.isArray(e)){if(c=e.length,c!=r.length)return!1;for(o=c;o--!==0;)if(!t(e[o],r[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(l=Object.keys(e),c=l.length,c!==Object.keys(r).length)return!1;for(o=c;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,l[o]))return!1;for(o=c;o--!==0;){var s=l[o];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r};const G=ve(de);function M(t){return t===null||typeof t!="object"?{}:Object.keys(t).reduce((e,r)=>{const c=t[r];return c!=null&&c!==!1&&(e[r]=c),e},{})}var Ee=Object.defineProperty,X=Object.getOwnPropertySymbols,me=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable,q=(t,e,r)=>e in t?Ee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,we=(t,e)=>{for(var r in e||(e={}))me.call(e,r)&&q(t,r,e[r]);if(X)for(var r of X(e))ke.call(e,r)&&q(t,r,e[r]);return t};function oe(t,e){if(e===null||typeof e!="object")return{};const r=we({},e);return Object.keys(e).forEach(c=>{c.includes(`${String(t)}.`)&&delete r[c]}),r}const Pe="__MANTINE_FORM_INDEX__";function K(t,e){return e?typeof e=="boolean"?e:Array.isArray(e)?e.includes(t.replace(/[.][0-9]/g,`.${Pe}`)):!1:!1}function z(t,e,r){typeof r.value=="object"&&(r.value=w(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||e==="__proto__"?Object.defineProperty(t,e,r):t[e]=r.value}function w(t){if(typeof t!="object")return t;var e=0,r,c,o,l=Object.prototype.toString.call(t);if(l==="[object Object]"?o=Object.create(t.__proto__||null):l==="[object Array]"?o=Array(t.length):l==="[object Set]"?(o=new Set,t.forEach(function(s){o.add(w(s))})):l==="[object Map]"?(o=new Map,t.forEach(function(s,f){o.set(w(f),w(s))})):l==="[object Date]"?o=new Date(+t):l==="[object RegExp]"?o=new RegExp(t.source,t.flags):l==="[object DataView]"?o=new t.constructor(w(t.buffer)):l==="[object ArrayBuffer]"?o=t.slice(0):l.slice(-6)==="Array]"&&(o=new t.constructor(t)),o){for(c=Object.getOwnPropertySymbols(t);e<c.length;e++)z(o,c[e],Object.getOwnPropertyDescriptor(t,c[e]));for(e=0,c=Object.getOwnPropertyNames(t);e<c.length;e++)Object.hasOwnProperty.call(o,r=c[e])&&o[r]===t[r]||z(o,r,Object.getOwnPropertyDescriptor(t,r))}return o||t}function ce(t){return typeof t!="string"?[]:t.split(".")}function _(t,e,r){const c=ce(t);if(c.length===0)return r;const o=w(r);if(c.length===1)return o[c[0]]=e,o;let l=o[c[0]];for(let s=1;s<c.length-1;s+=1){if(l===void 0)return o;l=l[c[s]]}return l[c[c.length-1]]=e,o}function d(t,e){const r=ce(t);if(r.length===0||typeof e!="object"||e===null)return;let c=e[r[0]];for(let o=1;o<r.length&&c!==void 0;o+=1)c=c[r[o]];return c}function Se(t){const e=M(t);return{hasErrors:Object.keys(e).length>0,errors:e}}function N(t,e,r="",c={}){return typeof t!="object"||t===null?c:Object.keys(t).reduce((o,l)=>{const s=t[l],f=`${r===""?"":`${r}.`}${l}`,i=d(f,e);let p=!1;return typeof s=="function"&&(o[f]=s(i,e,f)),typeof s=="object"&&Array.isArray(i)&&(p=!0,i.forEach((j,g)=>N(s,e,`${f}.${g}`,o))),typeof s=="object"&&typeof i=="object"&&i!==null&&(p||N(s,e,f,o)),o},c)}function V(t,e){return Se(typeof t=="function"?t(e):N(t,e))}function A(t,e,r){if(typeof t!="string")return{hasError:!1,error:null};const c=V(e,r),o=Object.keys(c.errors).find(l=>t.split(".").every((s,f)=>s===l.split(".")[f]));return{hasError:!!o,error:o?c.errors[o]:null}}function Ce(t,{from:e,to:r},c){const o=d(t,c);if(!Array.isArray(o))return c;const l=[...o],s=o[e];return l.splice(e,1),l.splice(r,0,s),_(t,l,c)}var $e=Object.defineProperty,J=Object.getOwnPropertySymbols,Ae=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable,Q=(t,e,r)=>e in t?$e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ie=(t,e)=>{for(var r in e||(e={}))Ae.call(e,r)&&Q(t,r,e[r]);if(J)for(var r of J(e))_e.call(e,r)&&Q(t,r,e[r]);return t};function De(t,{from:e,to:r},c){const o=`${t}.${e}`,l=`${t}.${r}`,s=Ie({},c);return Object.keys(c).every(f=>{let i,p;if(f.startsWith(o)&&(i=f,p=f.replace(o,l)),f.startsWith(l)&&(i=f.replace(l,o),p=f),i&&p){const j=s[i],g=s[p];return g===void 0?delete s[i]:s[i]=g,j===void 0?delete s[p]:s[p]=j,!1}return!0}),s}function Te(t,e,r){const c=d(t,r);return Array.isArray(c)?_(t,c.filter((o,l)=>l!==e),r):r}var Fe=Object.defineProperty,U=Object.getOwnPropertySymbols,Me=Object.prototype.hasOwnProperty,Ne=Object.prototype.propertyIsEnumerable,Y=(t,e,r)=>e in t?Fe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ve=(t,e)=>{for(var r in e||(e={}))Me.call(e,r)&&Y(t,r,e[r]);if(U)for(var r of U(e))Ne.call(e,r)&&Y(t,r,e[r]);return t};function Z(t,e){const r=t.substring(e.length+1).split(".")[0];return parseInt(r,10)}function ee(t,e,r,c){if(e===void 0)return r;const o=`${String(t)}`;let l=r;c===-1&&(l=oe(`${o}.${e}`,l));const s=Ve({},l),f=new Set;return Object.entries(l).filter(([i])=>{if(!i.startsWith(`${o}.`))return!1;const p=Z(i,o);return Number.isNaN(p)?!1:p>=e}).forEach(([i,p])=>{const j=Z(i,o),g=i.replace(`${o}.${j}`,`${o}.${j+c}`);s[g]=p,f.add(g),f.has(i)||delete s[i]}),s}function xe(t,e,r,c){const o=d(t,c);if(!Array.isArray(o))return c;const l=[...o];return l.splice(typeof r=="number"?r:l.length,0,e),_(t,l,c)}function te(t,e){const r=Object.keys(t);if(typeof e=="string"){const c=r.filter(o=>o.startsWith(`${e}.`));return t[e]||c.some(o=>t[o])||!1}return r.some(c=>t[c])}function Le(t){return e=>{if(!e)t(e);else if(typeof e=="function")t(e);else if(typeof e=="object"&&"nativeEvent"in e){const{currentTarget:r}=e;r instanceof HTMLInputElement?r.type==="checkbox"?t(r.checked):t(r.value):(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)&&t(r.value)}else t(e)}}var Re=Object.defineProperty,We=Object.defineProperties,Be=Object.getOwnPropertyDescriptors,re=Object.getOwnPropertySymbols,He=Object.prototype.hasOwnProperty,Ge=Object.prototype.propertyIsEnumerable,ne=(t,e,r)=>e in t?Re(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,E=(t,e)=>{for(var r in e||(e={}))He.call(e,r)&&ne(t,r,e[r]);if(re)for(var r of re(e))Ge.call(e,r)&&ne(t,r,e[r]);return t},F=(t,e)=>We(t,Be(e));function qe({initialValues:t={},initialErrors:e={},initialDirty:r={},initialTouched:c={},clearInputErrorOnChange:o=!0,validateInputOnChange:l=!1,validateInputOnBlur:s=!1,transformValues:f=p=>p,validate:i}={}){const[p,j]=b.useState(c),[g,S]=b.useState(r),[y,m]=b.useState(t),[x,k]=b.useState(M(e)),I=b.useRef(t),L=n=>{I.current=n},R=b.useCallback(()=>j({}),[]),le=n=>{const a=n?E(E({},y),n):y;L(a),S({})},D=b.useCallback(n=>k(a=>M(typeof n=="function"?n(a):n)),[]),T=b.useCallback(()=>k({}),[]),W=b.useCallback(()=>{m(t),T(),L(t),S({}),R()},[]),P=b.useCallback((n,a)=>D(u=>F(E({},u),{[n]:a})),[]),C=b.useCallback(n=>D(a=>{if(typeof n!="string")return a;const u=E({},a);return delete u[n],u}),[]),$=b.useCallback(n=>S(a=>{if(typeof n!="string")return a;const u=oe(n,a);return delete u[n],u}),[]),B=b.useCallback((n,a)=>{const u=K(n,l);$(n),j(O=>F(E({},O),{[n]:!0})),m(O=>{const h=_(n,a,O);if(u){const v=A(n,i,h);v.hasError?P(n,v.error):C(n)}return h}),!u&&o&&P(n,null)},[]),ae=b.useCallback(n=>{m(a=>{const u=typeof n=="function"?n(a):n;return E(E({},a),u)}),o&&T()},[]),se=b.useCallback((n,a)=>{$(n),m(u=>Ce(n,a,u)),k(u=>De(n,a,u))},[]),ue=b.useCallback((n,a)=>{$(n),m(u=>Te(n,a,u)),k(u=>ee(n,a,u,-1))},[]),ie=b.useCallback((n,a,u)=>{$(n),m(O=>xe(n,a,u,O)),k(O=>ee(n,u,O,1))},[]),H=b.useCallback(()=>{const n=V(i,y);return k(n.errors),n},[y,i]),fe=b.useCallback(n=>{const a=A(n,i,y);return a.hasError?P(n,a.error):C(n),a},[y,i]),be=(n,{type:a="input",withError:u=!0,withFocus:O=!0}={})=>{const h={onChange:Le(v=>B(n,v))};return u&&(h.error=x[n]),a==="checkbox"?h.checked=d(n,y):h.value=d(n,y),O&&(h.onFocus=()=>j(v=>F(E({},v),{[n]:!0})),h.onBlur=()=>{if(K(n,s)){const v=A(n,i,y);v.hasError?P(n,v.error):C(n)}}),h},pe=(n,a)=>u=>{u==null||u.preventDefault();const O=H();O.hasErrors?a==null||a(O.errors,y,u):n==null||n(f(y),u)},ye=n=>f(n||y),Oe=b.useCallback(n=>{n.preventDefault(),W()},[]),je=n=>{if(n){const a=d(n,g);if(typeof a=="boolean")return a;const u=d(n,y),O=d(n,I.current);return!G(u,O)}return Object.keys(g).length>0?te(g):!G(y,I.current)},ge=b.useCallback(n=>te(p,n),[p]),he=b.useCallback(n=>n?!A(n,i,y).hasError:!V(i,y).hasErrors,[y,i]);return{values:y,errors:x,setValues:ae,setErrors:D,setFieldValue:B,setFieldError:P,clearFieldError:C,clearErrors:T,reset:W,validate:H,validateField:fe,reorderListItem:se,removeListItem:ue,insertListItem:ie,getInputProps:be,onSubmit:pe,onReset:Oe,isDirty:je,isTouched:ge,setTouched:j,setDirty:S,resetTouched:R,resetDirty:le,isValid:he,getTransformedValues:ye}}export{qe as G};
