import{a as p,L as t,B as L,I as U,ag as xt,N,D as X,l as De,a9 as uo,$ as z,G as ho,ah as Bo,ai as vt,aj as Me,V as kt,ak as so,R as oe,a7 as yt,U as Vo,E as wt,ae as te,al as jt,am as ye,an as Ct,ao as Wo,ap as St,x as Rt,y as Pt,aq as Ro,a6 as It,a8 as Mt,ar as _o,b as Po,as as Nt,aa as At,at as Io,au as zt,ad as $t,a0 as Ot,J as Tt,F as Bt,av as Vt,aw as Mo}from"./index-0d19177e.js";import{i as fe,p as w}from"./BaseContext-b2603304-d1129fb6.js";import{r as Wt,h as _t}from"./IconSearch-a226eee4-73f8e550.js";var Ft=fe("adjustments","IconAdjustments",[["path",{d:"M4 10a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M6 4v4",key:"svg-1"}],["path",{d:"M6 12v8",key:"svg-2"}],["path",{d:"M10 16a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-3"}],["path",{d:"M12 4v10",key:"svg-4"}],["path",{d:"M12 18v2",key:"svg-5"}],["path",{d:"M16 7a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-6"}],["path",{d:"M18 4v1",key:"svg-7"}],["path",{d:"M18 9v11",key:"svg-8"}]]),Et=fe("barcode","IconBarcode",[["path",{d:"M4 7v-1a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M4 17v1a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v1",key:"svg-2"}],["path",{d:"M16 20h2a2 2 0 0 0 2 -2v-1",key:"svg-3"}],["path",{d:"M5 11h1v2h-1z",key:"svg-4"}],["path",{d:"M10 11l0 2",key:"svg-5"}],["path",{d:"M14 11h1v2h-1z",key:"svg-6"}],["path",{d:"M19 11l0 2",key:"svg-7"}]]),Dt=fe("download","IconDownload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]),Ht=fe("filter-minus","IconFilterMinus",[["path",{d:"M12 20l-3 1v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v3",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}]]),Lt=fe("filter-plus","IconFilterPlus",[["path",{d:"M12 20l-3 1v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v3",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}]]),Ut=fe("filter","IconFilter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]]),Gt=fe("printer","IconPrinter",[["path",{d:"M17 17h2a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-14a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h2",key:"svg-0"}],["path",{d:"M17 9v-4a2 2 0 0 0 -2 -2h-6a2 2 0 0 0 -2 2v4",key:"svg-1"}],["path",{d:"M7 13m0 2a2 2 0 0 1 2 -2h6a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2z",key:"svg-2"}]]);function Qt({src:e,alt:o=w._({id:"sGeXL3"}),size:r=24}){let n="http://localhost:8000"+e;return t.jsx(Nt,{src:n,alt:o,width:r,fit:"contain",radius:"xs",withPlaceholder:!0,imageProps:{style:{maxHeight:r}}})}function Pn({src:e,text:o,link:r="",alt:n=w._({id:"sGeXL3"}),size:l=24}){return t.jsxs(X,{position:"left",spacing:10,children:[t.jsx(Qt,{src:e,alt:n,size:l}),t.jsx(U,{children:o})]})}var Yt=Object.create,Fo=Object.defineProperty,qt=Object.getOwnPropertyDescriptor,Jt=Object.getOwnPropertyNames,Xt=Object.getPrototypeOf,Zt=Object.prototype.hasOwnProperty,Kt=(e,o)=>()=>(e&&(o=e(e=0)),o),po=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports),er=(e,o,r,n)=>{if(o&&typeof o=="object"||typeof o=="function")for(let l of Jt(o))!Zt.call(e,l)&&l!==r&&Fo(e,l,{get:()=>o[l],enumerable:!(n=qt(o,l))||n.enumerable});return e},or=(e,o,r)=>(r=e!=null?Yt(Xt(e)):{},er(o||!e||!e.__esModule?Fo(r,"default",{value:e,enumerable:!0}):r,e)),h=Kt(()=>{}),tr=po((e,o)=>{h();var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";o.exports=r}),rr=po((e,o)=>{h();var r=tr();function n(){}function l(){}l.resetWarningCache=n,o.exports=function(){function a(u,g,c,x,d,f){if(f!==r){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}a.isRequired=a;function s(){return a}var i={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:s,element:a,elementType:a,instanceOf:s,node:a,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:l,resetWarningCache:n};return i.PropTypes=i,i}}),nr=po((e,o)=>{h(),o.exports=rr()()});h();h();h();var lr=N({root:{"&&":{background:"transparent",":last-of-type td":{borderBottom:"none"}}}});function ar(){let{classes:e}=lr();return t.jsx("tr",{className:e.root,children:t.jsx("td",{})})}h();h();h();var ge=or(nr());h();var sr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},ir=Object.defineProperty,cr=Object.defineProperties,dr=Object.getOwnPropertyDescriptors,He=Object.getOwnPropertySymbols,Eo=Object.prototype.hasOwnProperty,Do=Object.prototype.propertyIsEnumerable,No=(e,o,r)=>o in e?ir(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r,Ao=(e,o)=>{for(var r in o||(o={}))Eo.call(o,r)&&No(e,r,o[r]);if(He)for(var r of He(o))Do.call(o,r)&&No(e,r,o[r]);return e},hr=(e,o)=>cr(e,dr(o)),ur=(e,o)=>{var r={};for(var n in e)Eo.call(e,n)&&o.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&He)for(var n of He(e))o.indexOf(n)<0&&Do.call(e,n)&&(r[n]=e[n]);return r},Le=(e,o,r)=>{let n=p.forwardRef((l,a)=>{var s=l,{color:i="currentColor",size:u=24,stroke:g=2,children:c}=s,x=ur(s,["color","size","stroke","children"]);return p.createElement("svg",Ao(hr(Ao({ref:a},sr),{width:u,height:u,stroke:i,strokeWidth:g,className:`tabler-icon tabler-icon-${e}`}),x),[...r.map(([d,f])=>p.createElement(d,f)),...c||[]])});return n.propTypes={color:ge.default.string,size:ge.default.oneOfType([ge.default.string,ge.default.number]),stroke:ge.default.oneOfType([ge.default.string,ge.default.number])},n.displayName=`${o}`,n};h();var pr=Le("arrow-up","IconArrowUp",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 11l-6 -6",key:"svg-1"}],["path",{d:"M6 11l6 -6",key:"svg-2"}]]);h();var gr=Le("arrows-vertical","IconArrowsVertical",[["path",{d:"M8 7l4 -4l4 4",key:"svg-0"}],["path",{d:"M8 17l4 4l4 -4",key:"svg-1"}],["path",{d:"M12 3l0 18",key:"svg-2"}]]);h();var fr=Le("database-off","IconDatabaseOff",[["path",{d:"M12.983 8.978c3.955 -.182 7.017 -1.446 7.017 -2.978c0 -1.657 -3.582 -3 -8 -3c-1.661 0 -3.204 .19 -4.483 .515m-2.783 1.228c-.471 .382 -.734 .808 -.734 1.257c0 1.22 1.944 2.271 4.734 2.74",key:"svg-0"}],["path",{d:"M4 6v6c0 1.657 3.582 3 8 3c.986 0 1.93 -.067 2.802 -.19m3.187 -.82c1.251 -.53 2.011 -1.228 2.011 -1.99v-6",key:"svg-1"}],["path",{d:"M4 12v6c0 1.657 3.582 3 8 3c3.217 0 5.991 -.712 7.261 -1.74m.739 -3.26v-4",key:"svg-2"}],["path",{d:"M3 3l18 18",key:"svg-3"}]]);h();var mr=Le("filter","IconFilter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]]),br=N(e=>({root:{position:"absolute",top:0,right:0,bottom:0,left:0,flexDirection:"column",pointerEvents:"none",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[6],opacity:0,transition:"opacity .15s ease"},active:{opacity:1},standardIcon:{fontSize:0,borderRadius:"50%",padding:e.spacing.xs,background:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}}));function xr({icon:e,text:o,pt:r,pb:n,active:l,children:a}){let{classes:s,cx:i}=br();return t.jsx(De,{pt:r,pb:n,className:i(s.root,{[s.active]:l}),children:a||t.jsxs(t.Fragment,{children:[e||t.jsx("div",{className:s.standardIcon,children:t.jsx(fr,{})}),t.jsx(U,{size:"sm",color:"dimmed",children:o})]})})}h();h();h();h();function vr(e,o){let r=()=>{o(e.map(l=>l.matches))},n=e.map(l=>{try{return l.addEventListener("change",r),()=>l.removeEventListener("change",r)}catch{return l.addListener(r),()=>l.removeListener(r)}});return()=>{n.forEach(l=>l())}}function kr(e,o){return o||(typeof window<"u"&&"matchMedia"in window?e.map(r=>window.matchMedia(r).matches):e.map(()=>!1))}function yr(e,o,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){let[n,l]=p.useState(r?o:kr(e,o)),a=p.useRef();return p.useEffect(()=>{if("matchMedia"in window)return a.current=e.map(s=>window.matchMedia(s)),l(a.current.map(s=>s.matches)),vr(a.current,s=>{l(s)})},[e]),n}var wr=typeof window<"u"?p.useLayoutEffect:p.useEffect;function go(e){let o=Bo(),r=typeof e=="function"?e(o):e;return vt(r||"",!0)}function jr(e){let o=Bo(),r=p.useMemo(()=>e.map(l=>(typeof l=="function"?l(o):l)??""),[e,o]),n=p.useMemo(()=>e.map(()=>!0),[e]);return yr(r,n)}function fo(e){let o=e.replace(/([a-z\d])([A-Z]+)/g,"$1 $2").replace(/\W|_/g," ").trim().toLowerCase();return`${o.charAt(0).toUpperCase()}${o.slice(1)}`}function Cr(e,o,r){return e.filter(n=>!o.map(r).includes(r(n)))}function io(e,o){return e.filter((r,n,l)=>n===l.findIndex(a=>o(r)===o(a)))}function Ho(e,o){return o?o.match(/([^[.\]])+/g).reduce((r,n)=>r&&r[n],e):void 0}function T(e,o){return typeof o=="string"?Ho(e,o):o(e)}var Sr=N({noWrap:{whiteSpace:"nowrap"},ellipsis:{overflow:"hidden",textOverflow:"ellipsis"}});function Rr({className:e,sx:o,style:r,visibleMediaQuery:n,title:l,noWrap:a,ellipsis:s,textAlignment:i,width:u}){let{cx:g,classes:c}=Sr();return go(n)?t.jsx(L,{component:"th",className:g({[c.noWrap]:a||s,[c.ellipsis]:s},e),sx:[{"&&":{textAlign:i},width:u,minWidth:u,maxWidth:u},o],style:r,children:l}):null}h();var Pr=N(e=>{let o=e.colorScheme==="dark"?.5:.05;return{root:{position:"sticky",width:0,left:0,background:"inherit","&::after":{content:'""',position:"absolute",top:0,right:-Me(e.spacing.sm),bottom:0,borderLeft:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`,width:e.spacing.sm,background:`linear-gradient(to right, ${e.fn.rgba(e.black,o)}, ${e.fn.rgba(e.black,0)}), linear-gradient(to right, ${e.fn.rgba(e.black,o)}, ${e.fn.rgba(e.black,0)} 30%)`,pointerEvents:"none",opacity:0,transition:"opacity .15s ease"}},shadowVisible:{"&::after":{opacity:1}}}});function Ir({shadowVisible:e}){let{cx:o,classes:r}=Pr();return t.jsx("th",{className:o(r.root,{[r.shadowVisible]:e})})}var Mr=N((e,{scrollDiff:o,borderColor:r})=>{let n=o<0,l=typeof r=="function"?r(e):r;return{root:{zIndex:2,position:n?"relative":"sticky",bottom:n?o:-1,background:e.colorScheme==="dark"?e.colors.dark[7]:e.white,"&& tr th":{borderTopColor:l}},relative:{position:"relative"},textSelectionDisabled:{userSelect:"none"}}}),Nr=p.forwardRef(function({className:e,style:o,borderColor:r,columns:n,defaultColumnProps:l,selectionVisible:a,leftShadowVisible:s,scrollDiff:i},u){let{cx:g,classes:c}=Mr({scrollDiff:i,borderColor:r});return t.jsx(L,{component:"tfoot",ref:u,className:g(c.root,e),style:o,children:t.jsxs("tr",{children:[a&&t.jsx(Ir,{shadowVisible:s}),n.map(({hidden:x,...d})=>{if(x)return null;let{accessor:f,visibleMediaQuery:C,textAlignment:v,width:y,footer:k,footerClassName:S,footerStyle:R,footerSx:_,noWrap:$,ellipsis:A}={...l,...d};return t.jsx(Rr,{className:S,style:R,sx:_,visibleMediaQuery:C,textAlignment:v,width:y,title:k,noWrap:$,ellipsis:A},f)})]})})});h();h();function Ar({group:{id:e,columns:o,title:r,className:n,style:l,sx:a}}){let s=p.useMemo(()=>o.map(({visibleMediaQuery:g})=>g),[o]),i=jr(s),u=p.useMemo(()=>o.filter(({hidden:g},c)=>!g&&(i==null?void 0:i[c])).length,[o,i]);return u>0?t.jsx(L,{component:"th",colSpan:u,className:n,sx:a,style:l,children:r??fo(e)}):null}h();h();function zr({children:e,isActive:o}){let[r,{close:n,toggle:l}]=kt(!1);return t.jsxs(so,{withArrow:!0,withinPortal:!0,shadow:"md",opened:r,onClose:n,trapFocus:!0,children:[t.jsx(so.Target,{children:t.jsx(oe,{onClick:a=>{a.preventDefault(),l()},variant:o?"default":"subtle",children:t.jsx(mr,{size:14})})}),t.jsx(so.Dropdown,{onClick:a=>a.preventDefault(),children:typeof e=="function"?e({close:n}):e})]})}var $r=N(e=>({sortableColumnHeader:{cursor:"pointer",transition:"background .15s ease","&:hover:not(:has(button:hover))":{background:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0]}},sortableColumnHeaderGroup:{gap:"0.25em"},columnHeaderText:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},sortableColumnHeaderText:{minWidth:0,flexGrow:1},sortableColumnHeaderIcon:{transition:"transform .15s ease"},sortableColumnHeaderIconRotated:{transform:"rotate3d(0, 0, 1, 180deg)"},sortableColumnHeaderUnsortedIcon:{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],transition:"color .15s ease","th:hover &":{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]}}}));function Or({className:e,sx:o,style:r,accessor:n,visibleMediaQuery:l,title:a,sortable:s,sortIcons:i,textAlignment:u,width:g,sortStatus:c,onSortStatusChange:x,filter:d,filtering:f}){let{cx:C,classes:v}=$r();if(!go(l))return null;let y=a??fo(n),k=typeof y=="string"?y:void 0,S=s&&x?R=>{R!=null&&R.defaultPrevented||x({columnAccessor:n,direction:(c==null?void 0:c.columnAccessor)===n?c.direction==="asc"?"desc":"asc":(c==null?void 0:c.direction)??"asc"})}:void 0;return t.jsx(L,{component:"th",className:C({[v.sortableColumnHeader]:s},e),sx:[{"&&":{textAlign:u},width:g,minWidth:g,maxWidth:g},o],style:r,role:s?"button":void 0,tabIndex:s?0:void 0,onClick:S,onKeyDown:R=>R.key==="Enter"&&(S==null?void 0:S()),children:t.jsxs(X,{className:v.sortableColumnHeaderGroup,position:"apart",noWrap:!0,children:[t.jsx(L,{className:C(v.columnHeaderText,v.sortableColumnHeaderText),title:k,children:y}),s||(c==null?void 0:c.columnAccessor)===n?t.jsx(t.Fragment,{children:(c==null?void 0:c.columnAccessor)===n?t.jsx(De,{className:C(v.sortableColumnHeaderIcon,{[v.sortableColumnHeaderIconRotated]:c.direction==="desc"}),role:"img","aria-label":`Sorted ${c.direction==="desc"?"descending":"ascending"}`,children:(i==null?void 0:i.sorted)||t.jsx(pr,{size:14})}):t.jsx(De,{className:v.sortableColumnHeaderUnsortedIcon,role:"img","aria-label":"Not sorted",children:(i==null?void 0:i.unsorted)||t.jsx(gr,{size:14})})}):null,d?t.jsx(zr,{isActive:!!f,children:d}):null]})})}h();var Tr=N(e=>{let o=e.colorScheme==="dark"?.5:.05;return{root:{position:"sticky",width:0,left:0,background:"inherit","&::after":{content:'""',position:"absolute",top:0,right:-Me(e.spacing.sm),bottom:0,borderLeft:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`,width:e.spacing.sm,background:`linear-gradient(to right, ${e.fn.rgba(e.black,o)}, ${e.fn.rgba(e.black,0)}), linear-gradient(to right, ${e.fn.rgba(e.black,o)}, ${e.fn.rgba(e.black,0)} 30%)`,pointerEvents:"none",opacity:0,transition:"opacity .15s ease"}},shadowVisible:{"&::after":{opacity:1}},checkboxInput:{cursor:"pointer"}}});function Br({shadowVisible:e,checked:o,indeterminate:r,checkboxProps:n,onChange:l,rowSpan:a}){let{cx:s,classes:i}=Tr();return t.jsx("th",{className:s(i.root,{[i.shadowVisible]:e}),rowSpan:a,children:t.jsx(uo,{classNames:{input:i.checkboxInput},checked:o,indeterminate:r,disabled:!l,onChange:l,...n})})}var Vr=N(e=>({root:{zIndex:2,position:"sticky",top:0,background:e.colorScheme==="dark"?e.colors.dark[7]:e.white},textSelectionDisabled:{userSelect:"none"}})),Wr=p.forwardRef(function({className:e,style:o,sortStatus:r,sortIcons:n,onSortStatusChange:l,columns:a,defaultColumnProps:s,groups:i,selectionVisible:u,selectionChecked:g,selectionIndeterminate:c,onSelectionChange:x,selectionCheckboxProps:d,leftShadowVisible:f},C){let{classes:v,cx:y}=Vr(),k=u?t.jsx(Br,{shadowVisible:f,checked:g,indeterminate:c,checkboxProps:d,onChange:x,rowSpan:i?2:void 0}):null;return t.jsxs("thead",{className:y(v.root,e),style:o,ref:C,children:[i&&t.jsxs("tr",{children:[k,i.map(S=>t.jsx(Ar,{group:S},S.id))]}),t.jsxs("tr",{children:[!i&&k,a.map(({hidden:S,...R})=>{if(S)return null;let{accessor:_,visibleMediaQuery:$,textAlignment:A,width:F,title:E,sortable:B,titleClassName:D,titleStyle:G,titleSx:Z,filter:re,filtering:V}={...s,...R};return t.jsx(Or,{accessor:_,className:D,style:G,sx:Z,visibleMediaQuery:$,textAlignment:A,width:F,title:E,sortable:B,sortStatus:r,sortIcons:n,onSortStatusChange:l,filter:re,filtering:V},_)})]})]})});h();var _r=N(e=>({root:{zIndex:3,position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",background:e.fn.rgba(e.colorScheme==="dark"?e.colors.dark[8]:e.white,.75),opacity:0,transition:"opacity .15s ease"},fetching:{pointerEvents:"all",opacity:1}}));function Fr({pt:e,pb:o,fetching:r,customContent:n,backgroundBlur:l,size:a,variant:s,color:i}){let{classes:u,cx:g}=_r();return t.jsx(De,{pt:e,pb:o,className:g(u.root,{[u.fetching]:r}),sx:l?{backdropFilter:`blur(${l}px)`}:void 0,children:r&&(n||t.jsx(At,{size:a,variant:s,color:i}))})}h();h();var zo={xs:22,sm:26,md:32,lg:38,xl:44};function Er({size:e,label:o,values:r,value:n,onChange:l,color:a}){return t.jsxs(X,{spacing:"xs",children:[t.jsx(U,{size:e,children:o}),t.jsxs(z,{withinPortal:!0,withArrow:!0,children:[t.jsx(z.Target,{children:t.jsx(ho,{size:e,variant:"default",sx:[{fontWeight:"normal"},s=>({height:zo[e],paddingLeft:s.spacing[e],paddingRight:s.spacing[e]})],children:n})}),t.jsx(z.Dropdown,{children:r.map(s=>{let i=s===n;return t.jsx(z.Item,{sx:[{height:zo[e]},u=>({"&&":{color:i?u.white:void 0},background:i?u.colors[a||u.primaryColor][6]:void 0})],disabled:i,onClick:()=>l(s),children:t.jsx(U,{size:e,children:s})},s)})})]})]})}var Dr=N((e,{topBorderColor:o,paginationWrapBreakpoint:r})=>({root:{background:e.colorScheme==="dark"?e.colors.dark[7]:e.white,borderTop:`1px solid ${typeof o=="function"?o(e):o}`,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",gap:e.spacing.xs,[e.fn.largerThan(r)]:{flexDirection:"row"}},text:{flex:"1 1 auto"},pagination:{opacity:1,transition:"opacity .15s ease"},paginationFetching:{opacity:0}})),Hr=p.forwardRef(function({className:e,style:o,topBorderColor:r,fetching:n,page:l,onPageChange:a,paginationColor:s,paginationSize:i,loadingText:u,noRecordsText:g,paginationText:c,totalRecords:x,recordsPerPage:d,onRecordsPerPageChange:f,recordsPerPageLabel:C,recordsPerPageOptions:v,recordsLength:y,horizontalSpacing:k,paginationWrapBreakpoint:S,getPaginationControlProps:R},_){let $;if(n)$=u;else if(!x)$=g;else{let E=(l-1)*d+1,B=E+y-1;$=c({from:E,to:B,totalRecords:x})}let{classes:A,cx:F}=Dr({topBorderColor:r,paginationWrapBreakpoint:S});return t.jsxs(L,{ref:_,px:k??"xs",py:"xs",className:F(A.root,e),style:o,children:[t.jsx(U,{className:A.text,size:i,children:$}),v&&t.jsx(Er,{size:i,label:C,values:v,color:s,value:d,onChange:f}),t.jsx(xt,{color:s,className:F(A.pagination,{[A.paginationFetching]:n||!y}),value:l,onChange:a,size:i,total:Math.ceil(x/d),getControlProps:R})]})});h();h();var Lr=N({withPointerCursor:{cursor:"pointer"},noWrap:{whiteSpace:"nowrap"},ellipsis:{overflow:"hidden",textOverflow:"ellipsis"}});function Ur({className:e,sx:o,style:r,visibleMediaQuery:n,record:l,recordIndex:a,onClick:s,noWrap:i,ellipsis:u,textAlignment:g,width:c,accessor:x,render:d,defaultRender:f,customCellAttributes:C}){let{cx:v,classes:y}=Lr();return go(n)?t.jsx(L,{component:"td",className:v({[y.noWrap]:i||u,[y.ellipsis]:u,[y.withPointerCursor]:s},e),sx:[{width:c,minWidth:c,maxWidth:c,textAlign:g},o],style:r,onClick:s,...C==null?void 0:C(l,a),children:d?d(l,a):f?f(l,a,x):Ho(l,x)}):null}h();h();function Gr(e){let[o,r]=p.useState(null),n=(e==null?void 0:e.join(":"))||"";return p.useEffect(()=>{r(null)},[n]),{lastSelectionChangeIndex:o,setLastSelectionChangeIndex:r}}function Qr(e){let[o,r]=p.useState(null);return p.useEffect(()=>{e&&r(null)},[e]),{rowContextMenuInfo:o,setRowContextMenuInfo:r}}function Yr({rowExpansion:e,records:o,idAccessor:r}){let n=[];if(e&&o){let{trigger:i,allowMultiple:u,initiallyExpanded:g}=e;o&&i==="always"?n=o.map(c=>T(c,r)):g&&(n=o.filter(g).map(c=>T(c,r)),u||(n=[n[0]]))}let l,a,s=p.useState(n);if(e){let{trigger:i,allowMultiple:u,collapseProps:g,content:c}=e;e.expanded?{recordIds:l,onRecordIdsChange:a}=e.expanded:[l,a]=s;let x=d=>a==null?void 0:a(l.filter(f=>f!==T(d,r)));return{expandOnClick:i!=="always"&&i!=="never",isRowExpanded:d=>i==="always"?!0:l.includes(T(d,r)),expandRow:d=>{let f=T(d,r);a==null||a(u?[...l,f]:[f])},collapseRow:x,collapseProps:g,content:(d,f)=>()=>c({record:d,recordIndex:f,collapse:()=>x(d)})}}}function qr(e,o){let[r,n]=p.useState(e),[l,a]=p.useState(e),s=Mo(()=>n(!0),0),i=Mo(()=>a(!1),o||200);return p.useEffect(()=>{e?(i.clear(),a(!0),s.start()):(s.clear(),n(!1),i.start())},[s,i,e]),{expanded:r,visible:l}}var Jr=N({cell:{"&&":{borderBottomWidth:0,padding:0}},expandedCell:{"&&":{borderBottomWidth:1}}});function Xr({open:e,colSpan:o,content:r,collapseProps:n}){let{expanded:l,visible:a}=qr(e,n==null?void 0:n.transitionDuration),{cx:s,classes:i}=Jr();return a?t.jsxs(t.Fragment,{children:[t.jsx("tr",{}),t.jsx("tr",{children:t.jsx("td",{className:s(i.cell,{[i.expandedCell]:l}),colSpan:o,children:t.jsx(Vt,{in:l,...n,children:r()})})})]}):null}h();var Zr=N(e=>{let o=e.colorScheme==="dark"?.5:.05;return{root:{position:"sticky",zIndex:1,left:0,background:"inherit","&::after":{content:'""',position:"absolute",top:0,right:-Me(e.spacing.sm),bottom:0,borderLeft:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`,width:e.spacing.sm,background:`linear-gradient(to right, ${e.fn.rgba(e.black,o)}, ${e.fn.rgba(e.black,0)}), linear-gradient(to right, ${e.fn.rgba(e.black,o)}, ${e.fn.rgba(e.black,0)} 30%)`,pointerEvents:"none",opacity:0,transition:"opacity .15s ease"}},withRightShadow:{"&::after":{opacity:1}},checkbox:{cursor:"pointer"}}});function Kr({record:e,recordIndex:o,withRightShadow:r,getCheckboxProps:n,...l}){let{cx:a,classes:s}=Zr();return t.jsx("td",{className:a(s.root,{[s.withRightShadow]:r}),onClick:i=>i.stopPropagation(),children:t.jsx(uo,{classNames:{input:s.checkbox},...l,...n(e,o)})})}var en=N(e=>{let o=e.colors[e.primaryColor][6];return{withPointerCursor:{cursor:"pointer"},selected:{"&&":{"tr&":{background:e.colorScheme==="dark"?e.fn.darken(o,.6):e.fn.lighten(o,.9)},"table[data-striped] tbody &:nth-of-type(odd)":{background:e.colorScheme==="dark"?e.fn.darken(o,.55):e.fn.lighten(o,.85)}}},contextMenuVisible:{"&&":{"tr&":{background:e.colorScheme==="dark"?e.fn.darken(o,.5):e.fn.lighten(o,.7)},"table[data-striped] tbody &:nth-of-type(odd)":{background:e.colorScheme==="dark"?e.fn.darken(o,.45):e.fn.lighten(o,.65)}}}}});function on({record:e,recordIndex:o,columns:r,defaultColumnProps:n,defaultColumnRender:l,selectionVisible:a,selectionChecked:s,onSelectionChange:i,isRecordSelectable:u,getSelectionCheckboxProps:g,onClick:c,onCellClick:x,onContextMenu:d,expansion:f,customAttributes:C,className:v,style:y,sx:k,contextMenuVisible:S,leftShadowVisible:R}){let{cx:_,classes:$}=en();return t.jsxs(t.Fragment,{children:[t.jsxs(L,{component:"tr",className:_({[$.withPointerCursor]:c||(f==null?void 0:f.expandOnClick),[$.selected]:s,[$.contextMenuVisible]:S},typeof v=="function"?v(e,o):v),onClick:A=>{if(f){let{isRowExpanded:F,expandOnClick:E,expandRow:B,collapseRow:D}=f;E&&(F(e)?D(e):B(e))}c==null||c(A)},style:typeof y=="function"?y(e,o):y,sx:k,...C==null?void 0:C(e,o),onContextMenu:d,children:[a&&t.jsx(Kr,{record:e,recordIndex:o,withRightShadow:R,checked:s,disabled:!i||(u?!u(e,o):!1),onChange:i,getCheckboxProps:g}),r.map(({hidden:A,...F},E)=>{if(A)return null;let{accessor:B,visibleMediaQuery:D,textAlignment:G,noWrap:Z,ellipsis:re,width:V,render:ne,cellsClassName:le,cellsStyle:ae,cellsSx:we,customCellAttributes:se}={...n,...F},me;return x&&(me=be=>x({event:be,record:e,recordIndex:o,column:F,columnIndex:E})),t.jsx(Ur,{className:typeof le=="function"?le(e,o):le,style:typeof ae=="function"?ae(e,o):ae,sx:we,visibleMediaQuery:D,record:e,recordIndex:o,onClick:me,accessor:B,textAlignment:G,noWrap:Z,ellipsis:re,width:V,render:ne,defaultRender:l,customCellAttributes:se},B)})]}),f&&t.jsx(Xr,{colSpan:r.filter(({hidden:A})=>!A).length+(a?1:0),open:f.isRowExpanded(e),content:f.content(e,o),collapseProps:f.collapseProps})]})}h();var tn=N(e=>({root:{position:"fixed",border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`,overflow:"hidden",transition:"all .15s ease"}}));function rn({borderRadius:e="xs",shadow:o="sm",zIndex:r=3,y:n,x:l,onDestroy:a,children:s}){Io("resize",a),Io("scroll",a);let i=zt(a),{ref:u,width:g,height:c}=ye(),x=Wo(i,u),{innerWidth:d,innerHeight:f}=window,{classes:C,theme:{dir:v,spacing:y}}=tn(),k=Me(y.md);return t.jsx($t,{ref:x,shadow:o,radius:e,className:C.root,sx:{zIndex:r,top:n+c+k>f?f-c-k:n,left:v==="ltr"?l+g+k>d?d-g-k:l:d-k-(l-g-k<0?g+k:l)},children:s})}h();var nn=N(e=>({root:{height:1,background:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1]}}));function ln(){let{classes:e}=nn();return t.jsx("div",{className:e.root})}h();var an=N((e,{color:o})=>{let r=Me(e.spacing.sm)/2;return{root:{width:"100%",display:"flex",alignItems:"center",paddingTop:r,paddingBottom:r,paddingLeft:e.spacing.sm,paddingRight:e.spacing.sm,color:o&&e.colors[o][6],transition:"background .15s ease","&[disabled]":{cursor:"not-allowed",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:hover:not([disabled])":{background:e.fn.rgba(o?e.colors[o][6]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4],o?e.colorScheme==="dark"?.15:.08:.25)},"&:active:not([disabled])":{background:e.fn.rgba(o?e.colors[o][6]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4],o?e.colorScheme==="dark"?.3:.2:.5)}},icon:{fontSize:0,marginRight:e.spacing.xs},title:{whiteSpace:"nowrap"}}});function sn({icon:e,title:o,color:r,disabled:n,onClick:l}){let{classes:a}=an({color:r});return t.jsxs(Ot,{className:a.root,disabled:n,onClick:l,children:[e&&t.jsx(L,{className:a.icon,children:e}),t.jsx(U,{className:a.title,size:"sm",children:o})]})}h();var cn=N(e=>{let o=e.colorScheme==="dark"?.5:.05;return{root:{flex:"1 1 100%"},scrollbar:{'&[data-state="visible"]':{background:"transparent"},"div::before":{pointerEvents:"none"}},corner:{background:"transparent"},thumb:{zIndex:3},shadow:{position:"absolute",pointerEvents:"none",opacity:0,transition:"opacity .15s ease"},topShadow:{zIndex:2,left:0,right:0,height:e.spacing.sm,background:`linear-gradient(${e.fn.rgba(e.black,o)}, ${e.fn.rgba(e.black,0)}), linear-gradient(${e.fn.rgba(e.black,o)}, ${e.fn.rgba(e.black,0)} 30%)`},leftShadow:{zIndex:3,top:0,left:0,bottom:0,width:e.spacing.sm,background:`linear-gradient(to right, ${e.fn.rgba(e.black,o)}, ${e.fn.rgba(e.black,0)}), linear-gradient(to right, ${e.fn.rgba(e.black,o)}, ${e.fn.rgba(e.black,0)} 30%)`},rightShadow:{zIndex:2,top:0,bottom:0,right:0,width:e.spacing.sm,background:`linear-gradient(to left, ${e.fn.rgba(e.black,o)}, ${e.fn.rgba(e.black,0)}), linear-gradient(to left, ${e.fn.rgba(e.black,o)}, ${e.fn.rgba(e.black,0)} 30%)`},bottomShadow:{zIndex:2,left:0,right:0,height:e.spacing.sm,background:`linear-gradient(${e.fn.rgba(e.black,0)}, ${e.fn.rgba(e.black,o)}), linear-gradient(${e.fn.rgba(e.black,0)} 30%, ${e.fn.rgba(e.black,o)})`},shadowVisible:{opacity:1}}});function dn({topShadowVisible:e,leftShadowVisible:o,rightShadowVisible:r,bottomShadowVisible:n,headerHeight:l,footerHeight:a,onScrollPositionChange:s,children:i,viewportRef:u,scrollAreaProps:g}){let c=a?a-1:0,{cx:x,classes:d}=cn();return t.jsxs(Tt,{...g,viewportRef:u,classNames:{root:d.root,scrollbar:d.scrollbar,thumb:d.thumb,corner:d.corner},styles:{scrollbar:{marginTop:l,marginBottom:c}},onScrollPositionChange:s,children:[i,t.jsx(L,{className:x(d.shadow,d.topShadow,{[d.shadowVisible]:e}),sx:{top:l}}),t.jsx("div",{className:x(d.shadow,d.leftShadow,{[d.shadowVisible]:o})}),t.jsx("div",{className:x(d.shadow,d.rightShadow,{[d.shadowVisible]:r})}),t.jsx(L,{className:x(d.shadow,d.bottomShadow,{[d.shadowVisible]:n}),sx:{bottom:c}})]})}var $o={},hn=N((e,{borderColor:o,rowBorderColor:r})=>{let n=typeof o=="function"?o(e):o,l=typeof r=="function"?r(e):r;return{root:{position:"relative",display:"flex",flexDirection:"column",overflow:"hidden",tr:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white},"&&":{"thead tr th":{borderBottomColor:n},"tbody tr td":{borderTopColor:l}}},lastRowBorderBottomVisible:{"tbody tr:last-of-type td":{borderBottom:`1px solid ${l}`}},textSelectionDisabled:{userSelect:"none"},table:{borderCollapse:"separate",borderSpacing:0},tableWithBorder:{border:`1px solid ${n}`},tableWithColumnBorders:{"&&":{"th, td":{":not(:first-of-type)":{borderLeft:`1px solid ${l}`}}}},tableWithColumnBordersAndSelectableRecords:{thead:{"tr + tr":{th:{borderLeft:`1px solid ${l}`}}}},verticalAlignmentTop:{td:{verticalAlign:"top"}},verticalAlignmentBottom:{td:{verticalAlign:"bottom"}}}});function un({withBorder:e,borderRadius:o,borderColor:r=I=>I.colorScheme==="dark"?I.colors.dark[4]:I.colors.gray[3],rowBorderColor:n=I=>I.fn.rgba(I.colorScheme==="dark"?I.colors.dark[4]:I.colors.gray[3],.65),withColumnBorders:l,textSelectionDisabled:a,height:s="100%",minHeight:i,shadow:u,verticalAlignment:g="center",fetching:c,columns:x,groups:d,defaultColumnProps:f,defaultColumnRender:C,idAccessor:v="id",records:y,selectedRecords:k,onSelectedRecordsChange:S,isRecordSelectable:R,allRecordsSelectionCheckboxProps:_={"aria-label":"Select all records"},getRecordSelectionCheckboxProps:$=(I,ce)=>({"aria-label":`Select record ${ce+1}`}),sortStatus:A,sortIcons:F,onSortStatusChange:E,horizontalSpacing:B,page:D,onPageChange:G,totalRecords:Z,recordsPerPage:re,onRecordsPerPageChange:V,recordsPerPageOptions:ne,recordsPerPageLabel:le="Records per page",paginationColor:ae,paginationSize:we="sm",paginationText:se=({from:I,to:ce,totalRecords:de})=>`${I} - ${ce} / ${de}`,paginationWrapBreakpoint:me="sm",getPaginationControlProps:be=I=>I==="previous"?{"aria-label":"Previous page"}:I==="next"?{"aria-label":"Next page"}:{},loaderBackgroundBlur:Ue,customLoader:ie,loaderSize:Ge,loaderVariant:Qe,loaderColor:Ye,loadingText:Q="...",emptyState:qe,noRecordsText:Ne="No records",noRecordsIcon:Je,striped:Xe,noHeader:Ze,onRowClick:H,onCellClick:mo,onScrollToTop:je,onScrollToBottom:Ae,onScrollToLeft:Ce,onScrollToRight:j,rowContextMenu:m,rowExpansion:M,rowClassName:Y,rowStyle:q,rowSx:Lo,customRowAttributes:Uo,scrollViewportRef:Go,scrollAreaProps:Qo,bodyRef:Yo,m:qo,my:Jo,mx:Xo,mt:Zo,mb:Ko,ml:et,mr:ot,sx:tt,className:rt,classNames:K,style:nt,styles:Ke,...lt}){let{ref:I,width:ce,height:de}=ye(),ze=p.useMemo(()=>(d==null?void 0:d.flatMap(b=>b.columns))??x,[x,d]),{ref:at,height:eo}=ye(),{ref:st,width:oo,height:Se}=ye(),{ref:it,height:ct}=ye(),{ref:dt,height:bo}=ye(),[to,xo]=p.useState(!0),[ro,vo]=p.useState(!0),[$e,ko]=p.useState(!0),[no,yo]=p.useState(!0),{rowContextMenuInfo:he,setRowContextMenuInfo:xe}=Qr(c),ht=Yr({rowExpansion:M,records:y,idAccessor:v}),lo=p.useCallback(()=>{if(!c&&m&&xe(null),c||Se<=de)xo(!0),vo(!0);else{let b=I.current.scrollTop,P=b===0,W=Se-b-de<1;xo(P),vo(W),P&&P!==to&&(je==null||je()),W&&W!==ro&&(Ae==null||Ae())}if(c||oo===ce)ko(!0),yo(!0);else{let b=I.current.scrollLeft,P=b===0,W=oo-b-ce<1;ko(P),yo(W),P&&P!==$e&&(Ce==null||Ce()),W&&W!==no&&(j==null||j())}},[c,Ae,Ce,j,je,m,de,I,ce,ro,$e,no,to,xe,Se,oo]);wr(lo,[lo]);let ut=p.useCallback(b=>{I.current.scrollTo({top:0,left:0}),G(b)},[G,I]),Oe=y==null?void 0:y.length,wo=y==null?void 0:y.map(b=>T(b,v)),Re=!!k,ve=k==null?void 0:k.map(b=>T(b,v)),jo=wo!==void 0&&ve!==void 0&&ve.length>0,Te=R?y==null?void 0:y.filter(R):y,Be=Te==null?void 0:Te.map(b=>T(b,v)),Ve=jo&&Be.every(b=>ve.includes(b)),pt=jo&&Be.some(b=>ve.includes(b)),gt=p.useCallback(()=>{k&&S&&S(Ve?k.filter(b=>!Be.includes(T(b,v))):io([...k,...Te],b=>T(b,v)))},[Ve,v,S,Be,Te,k]),{lastSelectionChangeIndex:We,setLastSelectionChangeIndex:ft}=Gr(wo),ao=Re&&!$e,{cx:Co,classes:J,theme:mt}=hn({borderColor:r,rowBorderColor:n}),bt={m:qo,my:Jo,mx:Xo,mt:Zo,mb:Ko,ml:et,mr:ot},ee=typeof Ke=="function"?Ke(mt,$o,$o):Ke;return t.jsxs(L,{...bt,className:Co(J.root,{[J.tableWithBorder]:e},rt,K==null?void 0:K.root),sx:[b=>({borderRadius:b.radius[o]||o,boxShadow:b.shadows[u]||u,height:s,minHeight:i}),...Ct(tt)],style:{...ee==null?void 0:ee.root,...nt},children:[t.jsx(dn,{viewportRef:Wo(I,Go||null),topShadowVisible:!to,leftShadowVisible:!(k||$e),rightShadowVisible:!no,bottomShadowVisible:!ro,headerHeight:eo,footerHeight:ct,onScrollPositionChange:lo,scrollAreaProps:Qo,children:t.jsxs(St,{ref:st,horizontalSpacing:B,className:Co(J.table,{[J.tableWithColumnBorders]:l,[J.lastRowBorderBottomVisible]:Se<de,[J.textSelectionDisabled]:a,[J.verticalAlignmentTop]:g==="top",[J.verticalAlignmentBottom]:g==="bottom",[J.tableWithColumnBordersAndSelectableRecords]:Re&&l}),striped:Oe?Xe:!1,...lt,children:[Ze?null:t.jsx(Wr,{ref:at,className:K==null?void 0:K.header,style:ee==null?void 0:ee.header,columns:ze,defaultColumnProps:f,groups:d,sortStatus:A,sortIcons:F,onSortStatusChange:E,selectionVisible:Re,selectionChecked:Ve,selectionIndeterminate:pt&&!Ve,onSelectionChange:gt,selectionCheckboxProps:_,leftShadowVisible:ao}),t.jsx("tbody",{ref:Yo,children:Oe?y.map((b,P)=>{let W=T(b,v),Pe=(ve==null?void 0:ve.includes(W))||!1,_e=!1,Fe=!1;if(m){let{hidden:O}=m;(!O||!(typeof O=="function"?O(b,P):O))&&(m.trigger==="click"?_e=!0:Fe=!0)}let Ee;S&&k&&(Ee=O=>{if(O.nativeEvent.shiftKey&&We!==null){let ke=y.filter(P>We?(ue,pe)=>pe>=We&&pe<=P&&(R?R(ue,pe):!0):(ue,pe)=>pe>=P&&pe<=We&&(R?R(ue,pe):!0));S(Pe?Cr(k,ke,ue=>T(ue,v)):io([...k,...ke],ue=>T(ue,v)))}else S(Pe?k.filter(ke=>T(ke,v)!==W):io([...k,b],ke=>T(ke,v)));ft(P)});let Ie;_e?Ie=O=>{xe({y:O.clientY,x:O.clientX,record:b,recordIndex:P}),H==null||H(b,P,O)}:H&&(Ie=O=>{H(b,P,O)});let So;return Fe&&(So=O=>{O.preventDefault(),xe({y:O.clientY,x:O.clientX,record:b,recordIndex:P})}),t.jsx(on,{record:b,recordIndex:P,columns:ze,defaultColumnProps:f,defaultColumnRender:C,selectionVisible:Re,selectionChecked:Pe,onSelectionChange:Ee,isRecordSelectable:R,getSelectionCheckboxProps:$,onClick:Ie,onCellClick:mo,onContextMenu:So,contextMenuVisible:he?T(he.record,v)===W:!1,expansion:ht,className:Y,style:q,sx:Lo,customAttributes:Uo,leftShadowVisible:ao},W)}):t.jsx(ar,{})}),ze.some(({footer:b})=>b)&&t.jsx(Nr,{ref:it,className:K==null?void 0:K.footer,style:ee==null?void 0:ee.footer,borderColor:r,columns:ze,defaultColumnProps:f,selectionVisible:Re,leftShadowVisible:ao,scrollDiff:Se-de})]})}),D&&t.jsx(Hr,{ref:dt,className:K==null?void 0:K.pagination,style:ee==null?void 0:ee.pagination,topBorderColor:r,horizontalSpacing:B,fetching:c,page:D,onPageChange:ut,totalRecords:Z,recordsPerPage:re,onRecordsPerPageChange:V,recordsPerPageOptions:ne,recordsPerPageLabel:le,paginationColor:ae,paginationSize:we,paginationText:se,paginationWrapBreakpoint:me,getPaginationControlProps:be,noRecordsText:Ne,loadingText:Q,recordsLength:Oe}),t.jsx(Fr,{pt:eo,pb:bo,fetching:c,backgroundBlur:Ue,customContent:ie,size:Ge,variant:Qe,color:Ye}),t.jsx(xr,{pt:eo,pb:bo,icon:Je,text:Ne,active:!c&&!Oe,children:qe}),m&&he&&t.jsx(Rt,{children:t.jsx(rn,{zIndex:m.zIndex,borderRadius:m.borderRadius,shadow:m.shadow,y:he.y,x:he.x,onDestroy:()=>xe(null),children:m.items(he.record,he.recordIndex).map(({divider:b,key:P,title:W,icon:Pe,color:_e,hidden:Fe,disabled:Ee,onClick:Ie})=>b?t.jsx(ln,{},P):Fe?null:t.jsx(sn,{title:W??fo(P),icon:Pe,color:_e,disabled:Ee,onClick:()=>{xe(null),Ie()}},P))})})]})}h();h();h();h();h();h();h();h();h();h();h();h();h();h();h();h();h();h();function Oo({icon:e,actions:o,tooltip:r="",label:n=""}){let l=0;return t.jsxs(z,{shadow:"xs",children:[t.jsx(z.Target,{children:t.jsx(oe,{children:t.jsx(te,{label:r,children:e})})}),t.jsxs(z.Dropdown,{children:[n&&t.jsx(z.Label,{children:n}),o.map(a=>t.jsx(z.Item,{children:a},l++))]})]})}function pn({columns:e,onToggleColumn:o}){return t.jsxs(z,{shadow:"xs",children:[t.jsx(z.Target,{children:t.jsx(oe,{children:t.jsx(te,{label:w._({id:"kCTFU8"}),children:t.jsx(Ft,{})})})}),t.jsxs(z.Dropdown,{children:[t.jsx(z.Label,{children:w._({id:"kCTFU8"})}),e.filter(r=>r.switchable).map(r=>t.jsx(z.Item,{children:t.jsx(uo,{checked:!r.hidden,label:r.title||r.accessor,onChange:n=>o(r.accessor),radius:"sm"})},r.accessor))]})]})}function gn({downloadCallback:e}){const o=[{value:"csv",label:w._({id:"6N5Lt+"})},{value:"tsv",label:w._({id:"Keu6yk"})},{value:"xlsx",label:w._({id:"UR8vqQ"})}];return t.jsx(t.Fragment,{children:t.jsxs(z,{children:[t.jsx(z.Target,{children:t.jsx(oe,{children:t.jsx(te,{label:w._({id:"w+nnwj"}),children:t.jsx(Dt,{})})})}),t.jsx(z.Dropdown,{children:o.map(r=>t.jsx(z.Item,{onClick:()=>{e(r.value)},children:r.label},r.value))})]})})}function fn({filter:e,onFilterRemove:o}){function r(){let n=e.label||e.name;return n+=" = ",n+=e.value,n}return t.jsx(Bt,{size:"lg",radius:"lg",variant:"outline",color:"gray",styles:n=>({root:{paddingRight:"4px"},inner:{textTransform:"none"}}),children:t.jsxs(X,{spacing:1,children:[t.jsx(U,{children:r()}),t.jsx(te,{label:w._({id:"rn2/2V"}),children:t.jsx(_o,{color:"red",onClick:()=>o()})})]})})}function mn({activeFilters:e,onFilterAdd:o,onFilterRemove:r,onFilterClearAll:n}){return t.jsxs(X,{position:"right",spacing:5,children:[e.length==0&&t.jsx(U,{italic:!0,size:"sm",children:w._({id:"N73rrp"})}),e.map(l=>t.jsx(fn,{filter:l,onFilterRemove:()=>r(l.name)},l.name)),e.length&&t.jsx(oe,{radius:"sm",variant:"outline",onClick:()=>n(),children:t.jsx(te,{label:w._({id:"ot7qsv"}),children:t.jsx(Ht,{color:"red"})})}),t.jsx(oe,{radius:"sm",variant:"outline",onClick:()=>o(),children:t.jsx(te,{label:w._({id:"vCSBPD"}),children:t.jsx(Lt,{color:"green"})})})]})}function bn(e,o){let r=e.map(n=>n.name);return o.filter(n=>!r.includes(n.name)).map(n=>({value:n.name,label:n.label,description:n.description}))}function xn(e,o){if(!o)return[];let r=e.find(l=>l.name===o);if(!r)return console.error(`Could not find filter ${o}`),[];let n=[];switch(r.type){case"boolean":n=[{value:"true",label:w._({id:"c+xCSz"})},{value:"false",label:w._({id:"ocUvR+"})}];break;default:r.choices?n=r.choices:r.choiceFunction?n=r.choiceFunction():console.error(`Filter choices not supplied for filter ${r.name}`);break}return n}const vn=p.forwardRef(({name:e,label:o,description:r,...n},l)=>t.jsxs("div",{ref:l,...n,children:[t.jsx(U,{size:"sm",children:o}),t.jsx(U,{size:"xs",children:r})]}));function kn({availableFilters:e,activeFilters:o,opened:r,onCreateFilter:n,onClose:l}){let a=p.useMemo(()=>bn(o,e),[o,e]),[s,i]=p.useState(null),[u,g]=p.useState(null),c=p.useMemo(()=>xn(e,s),[e,o,s]);function x(){i(null),g(null),l()}function d(){s&&u&&n(s,u),x()}return t.jsx(Pt,{title:w._({id:"jpXCTI"}),opened:r,onClose:x,children:t.jsxs(Vo,{children:[t.jsx(U,{children:w._({id:"R39XGq"})}),t.jsx(Ro,{data:a,itemComponent:vn,label:w._({id:"o7J4JM"}),placeholder:w._({id:"hpMOSe"}),searchable:!0,onChange:f=>i(f),withinPortal:!0,maxDropdownHeight:400}),t.jsx(Ro,{data:c,disabled:c.length==0,label:w._({id:"wMHvYH"}),placeholder:w._({id:"Fo55lj"}),onChange:f=>g(f),withinPortal:!0,maxDropdownHeight:400}),t.jsxs(X,{position:"right",children:[t.jsx(ho,{color:"red",onClick:x,children:w._({id:"dEgA5A"})}),t.jsx(ho,{color:"green",onClick:d,disabled:!(s&&u),children:w._({id:"PzFzS+"})})]})]})})}function yn({searchCallback:e}){const[o,r]=p.useState(""),[n]=It(o,500);return p.useEffect(()=>{e(n)},[n]),t.jsx(Mt,{value:o,icon:t.jsx(_t,{}),placeholder:"Search",onChange:l=>r(l.target.value),rightSection:o.length>0?t.jsx(_o,{size:"xs",onClick:l=>r("")}):null})}function To(e){return JSON.parse(localStorage.getItem(`Vision_IMS-hidden-table-columns-${e}`)||"[]")}function wn(e,o){localStorage.setItem(`Vision_IMS-hidden-table-columns-${e}`,JSON.stringify(o))}function jn(e,o){let r=JSON.parse(localStorage.getItem(`Vision_IMS-active-table-filters-${e}`)||"{}");return o.filter(n=>n.name in r).map(n=>({...n,value:r[n.name]}))}function co(e,o){let r=Object.fromEntries(o.map(n=>[n.name,n.value]));localStorage.setItem(`Vision_IMS-active-table-filters-${e}`,JSON.stringify(r))}function In({url:e,params:o,columns:r,enableDownload:n=!1,enableFilters:l=!0,enablePagination:a=!0,enableRefresh:s=!0,enableSearch:i=!0,enableSelection:u=!1,pageSize:g=25,tableKey:c="",defaultSortColumn:x="",noRecordsText:d=w._({id:"EqGTpW"}),printingActions:f=[],barcodeActions:C=[],customActionGroups:v=[],customFilters:y=[]}){const[k,S]=p.useState(r),R=r.some(j=>j.switchable);let[_,$]=p.useState(()=>To(c));p.useEffect(()=>{S(k.map(j=>({...j,hidden:_.includes(j.accessor)})))},[_]);function A(j){let m=[...k],M=m.findIndex(q=>q.accessor==j);M>=0&&M<m.length&&(m[M].hidden=!m[M].hidden);let Y=m.filter(q=>q.hidden).map(q=>q.accessor);wn(c,Y),$(To(c))}const F=l&&y.length>0,[E,B]=p.useState(!1),[D,G]=p.useState(1),[Z,re]=p.useState(!1),[V,ne]=p.useState(()=>jn(c,y));function le(j,m){let M=[...V],Y=y.find(q=>q.name==j);Y&&(M.push({...Y,value:m}),co(c,M),ne(M))}function ae(j){let m=V.filter(M=>M.name!=j);co(c,m),ne(m)}function we(){co(c,[]),ne([])}const[se,me]=p.useState("");function be(j=!1){let m={...o};V.forEach(Y=>m[Y.name]=Y.value),se&&(m.search=se),a&&j&&(m.limit=g,m.offset=(D-1)*g);let M=Qe();return M&&(ie.direction=="asc"?m.ordering=M:m.ordering=`-${M}`),m}function Ue(j){let m=be(!1);m.export=j;let M=Po.getUri({url:e,params:m});window.open(M,"_blank")}const[ie,Ge]=p.useState({columnAccessor:x,direction:"asc"});function Qe(){let j=ie.columnAccessor;if(j=="")return"";let m=k.find(M=>M.accessor==j);return(m==null?void 0:m.ordering)||j}const[Ye,Q]=p.useState(d),[qe,Ne]=p.useState([]);function Je(j){Ne(j)}const Xe=j=>{G(1),Ge(j)},Ze=async()=>{let j=be(!0);return Po.get(`${e}`,{params:j,timeout:30*1e3}).then(function(m){switch(m.status){case 200:return Q(d),m.data;case 400:Q(w._({id:"UFBeQV"}));break;case 401:Q(w._({id:"dA/8If"}));break;case 403:Q(w._({id:"7JBW66"}));break;case 404:Q(w._({id:"KPx1UV"}));break;default:Q(w._({id:"29VNqC"})+": "+m.statusText);break}return[]}).catch(function(m){return Q(w._({id:"SlfejT"})+": "+m.message),[]})},{data:H,isError:mo,isFetching:je,isLoading:Ae,refetch:Ce}=yt([`table-${c}`,ie.columnAccessor,ie.direction,D,V,se],Ze,{refetchOnWindowFocus:!1,refetchOnMount:"always"});return t.jsxs(t.Fragment,{children:[t.jsx(kn,{availableFilters:y,activeFilters:V,opened:E,onCreateFilter:le,onClose:()=>B(!1)}),t.jsxs(Vo,{children:[t.jsxs(X,{position:"apart",children:[t.jsxs(X,{position:"left",spacing:5,children:[v.map((j,m)=>j),C.length>0&&t.jsx(Oo,{icon:t.jsx(Et,{}),label:w._({id:"v1qpjB"}),tooltip:w._({id:"v1qpjB"}),actions:C}),f.length>0&&t.jsx(Oo,{icon:t.jsx(Gt,{}),label:w._({id:"inVgrM"}),tooltip:w._({id:"inVgrM"}),actions:f}),n&&t.jsx(gn,{downloadCallback:Ue})]}),t.jsx(wt,{}),t.jsxs(X,{position:"right",spacing:5,children:[i&&t.jsx(yn,{searchCallback:j=>me(j)}),s&&t.jsx(oe,{children:t.jsx(te,{label:w._({id:"8RYNR1"}),children:t.jsx(Wt,{onClick:()=>Ce()})})}),R&&t.jsx(pn,{columns:k,onToggleColumn:A}),F&&t.jsx(jt,{size:"xs",label:V.length,disabled:V.length==0,children:t.jsx(oe,{children:t.jsx(te,{label:w._({id:"j2wMlR"}),children:t.jsx(Ut,{onClick:()=>re(!Z)})})})})]})]}),Z&&t.jsx(mn,{activeFilters:V,onFilterAdd:()=>B(!0),onFilterRemove:ae,onFilterClearAll:we}),t.jsx(un,{withBorder:!0,striped:!0,highlightOnHover:!0,loaderVariant:"dots",idAccessor:"pk",minHeight:200,totalRecords:(H==null?void 0:H.count)??(H==null?void 0:H.length)??0,recordsPerPage:g,page:D,onPageChange:G,sortStatus:ie,onSortStatusChange:Xe,selectedRecords:u?qe:void 0,onSelectedRecordsChange:u?Je:void 0,fetching:je,noRecordsText:Ye,records:(H==null?void 0:H.results)??H??[],columns:k})]})]})}export{Pn as I,In as R};
